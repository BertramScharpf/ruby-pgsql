#!/usr/bin/env ruby

#
#  mkrf_conf  --  configure Ruby-PgSQL
#

require "autorake/mkconfig"

Autorake.configure {

  extending_ruby

  if RUBY_VERSION < "1.9" then
    have_header "ruby.h"
    have_header "rubyio.h"
    have_header "st.h"
    have_header "intern.h"
  else
    have_header "ruby/ruby.h"
    have_header "ruby/io.h"
    have_header "ruby/st.h"
    have_header "ruby/intern.h"
  end

  incdir :postgres,        `pg_config --pkgincludedir`
  incdir :postgres_server, `pg_config --includedir-server`

  have_library "crypto"
  have_library "ssl"
  have_library "pq"

  have_header "postgres.h"
  have_header "libpq-fe.h"
  have_header "libpq/libpq-fs.h"
  have_header "catalog/pg_type.h"

}

